% nop
% arara: xelatex
% arara: xelatex
% arara: latexmk: { options: ['-c'] }
% vim: tw=86:
\documentclass[../cookbook]{subfiles}
\graphicspath{{\subfix{../images/}}}
\begin{document}

\renewcommand{\myTitleText}{Chicken Hummus Wrap}
\renewcommand{\myURLText}{https://www.ethanchlebowski.com/cooking-techniques-recipes/chicken-hummus-wrap}
\renewcommand{\myFilename}{}
\renewcommand{\myServings}{1 wrap}
\renewcommand{\myAuthor}{Ethan Chlebowski}
\renewcommand{\myCookTime}{}
\renewcommand{\myPrepTime}{}
\renewcommand{\myTotalTime}{}
\renewcommand{\myIndexEntry}{Mains}
\renewcommand{\myPreamble}{
}

\hypersetup{%
  pdfauthor={\myAuthor},
  pdftitle={\myTitleText}
}

\sbox{\myIngred}{%
  \begin{minipage}[t]{\the\dimexpr0.35\textwidth}
    \textbf{Ingredients}
    \begin{itemize}[left=0.5em,label={}]
      \item \textbf{Wrap Components, per serving}
        \begin{itemize}
          \item 70 g (½ cup) grilled chicken, sliced
          \item 1 lavash flatbread
          \item 14 g (1 tbsp) hummus or baba ghanoush
          \item Pepperoncinis, thinly sliced
          \item Lettuce, thinly sliced
          \item Onion, thinly sliced
          \item Cherry tomatoes, diced
          \item 5 g (1 tsp) Lemony Za’atar White Sauce
        \end{itemize}
      \item \textbf{Lemony Za’atar White Sauce}
        \begin{itemize}
          \item 20 g (\~1.5 tbsp) mayo
          \item 20 g (\~1.5 tbsp) low-fat sour cream
          \item Juice from ¼ Lemon
          \item Sprinkle of za’aatar
          \item Sprinkle of red pepper flakes
        \end{itemize}
    \end{itemize}
  \end{minipage}
}

\sbox{\myMethod}{%
  \begin{minipage}[t]{\the\dimexpr0.6\textwidth-2em}
    \textbf{Method}
    \begin{enumerate}
      \item \textbf{Cook the chicken:} Grill or sear thinly sliced chicken breasts until they reaches 155°F internal temperature. Set aside to cool, then slice the chicken into long thin strips.
      \item \textbf{Prep the vegetables:} Meanwhile, slice the cherry tomatoes, red onions, iceberg lettuce, and pepperoncini peppers.
      \item \textbf{Make the white sauce:} Combine mayo, low-fat sour cream, zatar, red pepper flakes, and lemon juice. Taste and adjust as needed
      \item \textbf{Assemble the wrap:} Spread the hummus or baba ghanoush on the lavash bread, then add the chicken and vegetables, drizzle the white sauce, and wrap it in foil.
    \end{enumerate}
  \end{minipage}
}

\newcommand{\cmdSubText}[2]{%
  \ifthenelse{\equal{#2}{}} {} {\cmdSubtitle{#1}{#2}}
}

\sbox{\myTitle}{%
  \begin{minipage}[t]{0.6\textwidth}\raggedright%
    \textbf{\LARGE\bfseries \myTitleText} \vspace{2ex} \\
    \ifthenelse{\equal{\myPrepTime}{}}{}{\cmdSubTitle{PREP~TIME}{\myPrepTime}\quad}
    \ifthenelse{\equal{\myCookTime}{}}{}{\cmdSubTitle{COOK~TIME}{\myCookTime}\quad}
    \ifthenelse{\equal{\myTotalTime}{}}{}{\cmdSubTitle{TOTAL~TIME}{\myTotalTime}\quad \\}
    \cmdSubText{SERVINGS}{\myServings}\vspace{0.5ex} \\
    \cmdSubText{AUTHOR}{\myAuthor\\}
    \cmdSubText{SOURCE}{\href{\myURLText}{\myTitleText} \vspace{1ex} \\}
    \myPreamble{}
  \end{minipage}
}

\sbox{\myImage}{%
  \begin{minipage}[t]{0.35\textwidth}
    \ifthenelse{\equal{\myFilename}{}}{}{%
    \adjustbox{valign=t}{\includegraphics[width=\textwidth]{\myFilename}}}
  \end{minipage}
}

\framebox{%
  \cmdRecipe{recipelist}{\myIndexEntry}{\myTitleText}
  \cmdRecipe{authorlist}{\myAuthor}{\myTitleText}
\begin{tabular}{@{}llllll@{}}
  \multicolumn{4}{@{}l@{}}{\usebox{\myTitle}} &
  \multicolumn{2}{@{}l@{}}{\usebox{\myImage}} \\
  \multicolumn{6}{@{}l@{}}{} \rule{0.95\linewidth}{0.4pt}\vspace{2ex} \\ 
  \multicolumn{2}{@{}l@{}}{\usebox{\myIngred}} &
  \multicolumn{4}{@{}l@{}}{\usebox{\myMethod}} \\
\end{tabular}
}

\end{document}
