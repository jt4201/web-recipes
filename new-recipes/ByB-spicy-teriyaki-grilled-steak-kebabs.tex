% arara: testing
% arara: xelatex
% arara: xelatex
% arara: latexmk: { options: ['-c'] }
% vim: tw=96:
\documentclass[../cookbook]{subfiles}
\graphicspath{{\subfix{../images/}}}

\begin{document}

\renewcommand{\myTitleText}{Spicy Teriyaki Grilled Steak Kebabs}
\renewcommand{\myURLText}{https://butteryourbiscuit.com/spicy-teriyaki-grilled-steak-kebabs/}
\renewcommand{\myFilename}{ByB-spicy-teriyaki-grilled-steak-kebabs.jpg}
\renewcommand{\myServings}{6}
\renewcommand{\myAuthor}{Butter Your Biscuit}
\renewcommand{\myCookTime}{30 mins}
\renewcommand{\myPrepTime}{6 hrs}
\renewcommand{\myTotalTime}{6 hrs 30 mins}
\renewcommand{\myPreamble}{
  Spicy Teriyaki Grilled Steak Kebabs are so full of flavor, loaded with veggies and
  tender juicy meat, super easy to make.
}

\hypersetup{
  pdfauthor={\myAuthor},
  pdftitle={\myTitleText}
}

\sbox{\myIngred}{
  \begin{minipage}[t]{\the\dimexpr0.35\textwidth}
    \textbf{Ingredients}
    \begin{itemize}
      \item 2 lbs Sirloin steak cut into 1 ½ inch cubes
      \item 1 green pepper cut into 1 ½ inch pieces
      \item 1 red pepper cut into 1 ½ inch pieces
      \item 1 onion cut into 1 ½ inch pieces
      \item 3--4 zucchini cut into 1 inch slices
      \item 3 cups fresh pineapple cut into 1 inch pieces
      \item 1 cup soy sauce
      \item ½ cup rice wine vinegar
      \item ⅔ cup water
      \item 1 cup brown sugar
      \item 4 cloves garlic minced
      \item 1 teaspoon fresh grated ginger
      \item 1 teaspoon red pepper flakes more if you like it spicier
      \item 1 tablespoon cornstarch
      \item 8--10 wooden or metal skewers soak wooden skewers in water for 30 minutes
        to avoid burning on the grill
      \item \textbf{optional}
        \begin{itemize}
          \item Sesame seeds
        \end{itemize}
    \end{itemize}
  \end{minipage}
}

\sbox{\myMethod}{
  \begin{minipage}[t]{\the\dimexpr0.6\textwidth-2em}
    \textbf{Method}
    \begin{enumerate}
      \item In a small bowl whisk the soy sauce, vinegar, water, sugar, garlic, ginger
        and red pepper flakes until sugar is dissolved.
      \item Place steak cubes in a large ziplock freezer bag and pour in ⅓ marinade
        mixture. Place in refrigerator and marinate at least 6 hours but preferably
        overnight.
      \item In a saucepan add the remaining marinade and whisk in cornstarch until
        mixed. Bring sauce to a boil then reduce heat to a simmer 20 minutes or until
        thickened. Set aside.
      \item Heat a grill to medium high heat. Thread the skewers alternately with
        steak, peppers, onions, zucchini, and pineapple. Grill the skewers 3--4 minutes
        per side (or until desired doneness), brushing glaze over top after each
        rotation. Remove skewers and let rest 10 minutes. Brush with thickened
        teriyaki sauce and sprinkle with sesame seeds.
      \item **Make sure you soak your wooden (or use metal) skewers for 30 minutes
    \end{enumerate}
  \end{minipage}
}

\newcommand{\cmdSubText}[2]{%
  \ifthenelse{\equal{#2}{}} {} {\cmdSubtitle{#1}{#2}}
}

\sbox{\myTitle}{
  \begin{minipage}[t]{0.6\textwidth}\raggedright%
    \textbf{\LARGE\bfseries \myTitleText} \vspace{2ex} \\
    \cmdSubText{PREP~TIME}{\myPrepTime\quad}
    \cmdSubText{COOK~TIME}{\myCookTime\quad}
    \cmdSubText{TOTAL~TIME}{\myTotalTime\quad \\}
    \cmdSubText{SERVINGS}{\myServings\vspace{0.5ex} \\}
    \cmdSubText{AUTHOR}{\myAuthor\\}
    \cmdSubText{SOURCE}{\href{\myURLText}{\myTitleText} \vspace{1ex} \\}
    \myPreamble{}
  \end{minipage}
}

\sbox{\myImage}{
  \begin{minipage}[t]{0.35\textwidth}
    % LTeX: ignore
    \adjustbox{valign=t}{\includegraphics[width=\textwidth]{\myFilename}}
  \end{minipage}
}

\framebox{
\begin{tabular}{@{}llllll@{}}
  \multicolumn{4}{@{}l@{}}{\usebox{\myTitle}} &
  \multicolumn{2}{@{}l@{}}{\usebox{\myImage}} \\
  \multicolumn{6}{@{}l@{}}{} \rule{0.95\linewidth}{0.4pt}\vspace{2ex} \\ 
  \multicolumn{2}{@{}l@{}}{\usebox{\myIngred}} &
  \multicolumn{4}{@{}l@{}}{\usebox{\myMethod}} \\
\end{tabular}
}

\end{document}
