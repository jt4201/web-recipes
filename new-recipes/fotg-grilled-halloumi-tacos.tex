% arara: xelatex
% arara: xelatex
% arara: latexmk: { options: ['-c'] }
% vim: tw=86:
\documentclass[../cookbook]{subfiles}
\graphicspath{{\subfix{../images/}}}
\begin{document}

\renewcommand{\myTitleText}{Grilled Halloumi Tacos}
\renewcommand{\myURLText}{https://www.freshoffthegrid.com/grilled-halloumi-tacos/}
\renewcommand{\myFilename}{fotg-grilled-halloumi-tacos}
\renewcommand{\myServings}{6 tacos}
\renewcommand{\myAuthor}{Fresh Off The Grid}
\renewcommand{\myCookTime}{15 minutes}
\renewcommand{\myPrepTime}{5 minutes}
\renewcommand{\myTotalTime}{20 minutes}
\renewcommand{\myPreamble}{Roasted peppers, blistered red onions, and grilled halloumi
  cheese. Get the grill fired up and try out these delicious vegetarian tacos the next
  time you go camping.
}

\sbox{\myIngred}{
  \begin{minipage}[t]{\the\dimexpr 0.35\textwidth}\raggedright
    \textbf{Ingredients}
    \begin{itemize}
      \item 7 oz halloumi cheese (to equal 6 slices)
      \item 1 teaspoon olive oil
      \item 1 small red onion quartered
      \item 1 pepper (jalape√±o if you like things spicy, poblano for medium heat, or
        bell pepper for mild)
      \item 6 corn tortillas
      \item \textbf{To Serve}
        \begin{itemize}
          \item handful cilantro chopped
          \item salsa
          \item avocado slices
          \item corn, beans, or rice
          \item lime wedges
        \end{itemize}
    \end{itemize}
  \end{minipage}
}

\sbox{\myMethod}{
  \begin{minipage}[t]{\the\dimexpr 0.55\textwidth - 2em}\raggedright
    \textbf{Method}
    \begin{enumerate}
      \item Pre-heat the grill.
      \item Place the quartered onions and pepper on the grill. Turn occasionally so
        they cook evenly. Once the vegetables begin to soften and are black in spots,
        it's time to add the halloumi.
      \item Brush the halloumi with olive oil to prevent sticking. Place the halloumi
        on the grill and grill each side for about three minutes, or until grill marks
        form on the cheese. Remove the cheese \& vegetables from the grill.
      \item Heat the tortillas over the grill, 15--30 seconds on each side.
      \item Slice the halloumi into bite-sized pieces. Dice the onion and chop \&
        de-seed the pepper.
      \item Build your tacos \& enjoy with a cold drink!
    \end{enumerate}
  \end{minipage}
}

\begin{tabular}{ll}
  \begin{minipage}[t]{0.6\textwidth}\raggedright
  \cmdRecipe{recipelist}{Mains!Tacos}{\myTitleText}
  \cmdRecipe{authorlist}{\myAuthor}{\myTitleText}
    \ifthenelse{\equal{\myTitleText}{}} {}%
    {\textbf{\LARGE\bfseries \myTitleText} \vspace{2ex} \\ }
    \ifthenelse{ \equal{\myPrepTime}{} } {}%
      {\cmdSubtitle{PREP~TIME}{\myPrepTime}\quad}
      \ifthenelse{ \equal{\myCookTime}{} } {}%
      {\cmdSubtitle{COOK~TIME}{\myCookTime} \\ }
      \ifthenelse{ \equal{\myTotalTime}{} } {}%
    {\cmdSubtitle{TOTAL~TIME}{\myTotalTime}\quad}
      \ifthenelse{ \equal{\myServings}{} } {}%
      {\cmdSubtitle{SERVINGS}{\myServings} \\ }
      \ifthenelse{ \equal{\myAuthor}{} } {}%
      {\cmdSubtitle{AUTHOR}{\myAuthor} \\ }
      \ifthenelse{ \equal{\myURLText}{} } {}%
      {\cmdSubtitle{SOURCE}{\href{\myURLText}{\myTitleText} \vspace{1ex}} \\ }
    \ifthenelse{ \equal{\myPreamble}{}} {}%
      {\myPreamble}
\end{minipage} &
\begin{minipage}[t]{0.35\textwidth}
  \adjustbox{valign=t}{\includegraphics[width=\textwidth]{\myFilename}}
\end{minipage} \\
\end{tabular}\vspace{5mm}

\par\noindent\rule{0.95\textwidth}{0.4pt}\vspace{5mm}

\begin{tabular}{ll}
  \usebox{\myIngred} & \usebox{\myMethod} \\
\end{tabular}

\end{document}
