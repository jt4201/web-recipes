% arara: xelatex
% arara: xelatex
% arara: latexmk: { options: ['-c'] }
% vim: tw=86:
\documentclass[../cookbook]{subfiles}
\graphicspath{{\subfix{../images/}}}
\begin{document}

\renewcommand{\myTitleText}{Chicken Pineapple Kabobs}
\renewcommand{\myURLText}{https://www.freshoffthegrid.com/pineapple-chicken-kabobs/}
\renewcommand{\myFilename}{fotg-chicken-pineapple-kabobs}
\renewcommand{\myServings}{4 kabobs}
\renewcommand{\myAuthor}{Fresh Off The Grid}
\renewcommand{\myCookTime}{10 minutes}
\renewcommand{\myPrepTime}{10 minutes}
\renewcommand{\myTotalTime}{1 hour 20 minutes}
\renewcommand{\myPreamble}{
  With bright, tropical flavors, these Pineapple Chicken Kabobs are an easy, fuss-free
  camping meal perfect for summertime grilling!
}

\hypersetup{
  pdfauthor={\myAuthor},
  pdftitle={\myTitleText}
}

\sbox{\myIngred}{
  \begin{minipage}[t]{\the\dimexpr0.35\textwidth}
    \textbf{Ingredients}
    \begin{itemize}
      \item ¼ cup olive oil
      \item ½ cup chopped cilantro
      \item 1 tablespoon honey
      \item 2 teaspoons minced ginger note: Trader Joe’s carries ginger paste that’s
        perfect for this
      \item 1 lime juiced
      \item 1 teaspoon salt
      \item \textbf{To build the skewers:}
        \begin{itemize}
          \item ½ lb chicken boneless, skinless thighs work best, cut into 1-inch
            pieces
          \item 1 medium red onion sliced into 1-inch pieces
          \item Pineapple wedges cut into 1 inch cubes (see notes)
        \end{itemize}
    \end{itemize}
  \end{minipage}
}

\sbox{\myMethod}{
  \begin{minipage}[t]{\the\dimexpr0.6\textwidth-2em}
    \textbf{Method}
    \begin{enumerate}
      \item Combine the ingredients for the marinade in a large bowl or ziplock bag.
      \item Add the chicken to the marindae and stir to coat. Cover or seal the
        container, and let marinate for at least an hour, or up to 24 hours. If you're
        going to marinate for longer than and hour, place it back into your cooler.
      \item In the meantime, fire up your grill or get your campfire going.
      \item Build the kabobs by threading the chicken and vegetables onto your
        skewers. Brush with a bit of oil.
      \item Grill the kabobs over medium-high to high heat, turning occasionally so
        they cook evenly until the chicken is cooked through – about 10 minutes total.
      \item Remove from the grill and enjoy!
    \end{enumerate}
  \end{minipage}
}

\newcommand{\cmdSubText}[2]{%
  \ifthenelse{\equal{#2}{}} {} {\cmdSubtitle{#1}{#2}}
}

\sbox{\myTitle}{
  \begin{minipage}[t]{0.6\textwidth}\raggedright%
    \textbf{\LARGE\bfseries \myTitleText} \vspace{2ex} \\
    \cmdSubText{PREP~TIME}{\myPrepTime\quad}
    \cmdSubText{MARINATING~TIME}{1 hour\quad}
    \cmdSubText{COOK~TIME}{\myCookTime\quad}
    \cmdSubText{TOTAL~TIME}{\myTotalTime\quad \\}
    \cmdSubText{SERVINGS}{\myServings\vspace{0.5ex} \\}
    \cmdSubText{AUTHOR}{\myAuthor\\}
    \cmdSubText{SOURCE}{\href{\myURLText}{\myTitleText} \vspace{1ex} \\}
    \myPreamble{}
  \end{minipage}
}

\sbox{\myImage}{
  \begin{minipage}[t]{0.35\textwidth}
    \adjustbox{valign=t}{\includegraphics[width=\textwidth]{\myFilename}}
  \end{minipage}
}

\framebox{
  \cmdRecipe{recipelist}{Mains!Kebabs}{\myTitleText}
  \cmdRecipe{authorlist}{\myAuthor}{\myTitleText}
\begin{tabular}{@{}llllll@{}}
  \multicolumn{4}{@{}l@{}}{\usebox{\myTitle}} &
  \multicolumn{2}{@{}l@{}}{\usebox{\myImage}} \\
  \multicolumn{6}{@{}l@{}}{} \rule{0.95\linewidth}{0.4pt}\vspace{2ex} \\ 
  \multicolumn{2}{@{}l@{}}{\usebox{\myIngred}} &
  \multicolumn{4}{@{}l@{}}{\usebox{\myMethod}} \\
\end{tabular}
}

\end{document}
